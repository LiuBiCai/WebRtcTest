import xCloudApiClient from './webrtc.js';
const token='eyJhbGciOiJSUzI1NiIsImtpZCI6IjE0QTg5Q0Q2LUZCQzgtNDRCQS04N0E1LTBDMjMxNkZFRTFGMCIsInR5cCI6IkpXVCJ9.eyJhcHBpZCI6IjEwMTY4OTg0MzkiLCJjb3VudHJ5IjoiMjAiLCJjb3VudHJ5Y29kZSI6IkNOIiwiZGV2aWNlaWQiOiJGNzAwQ0JFMjY3RjQyM0QxIiwiZGV2aWNldHlwZSI6IkFuZHJvaWQiLCJzYW5kYm94aWQiOiJSRVRBSUwiLCJ1c2VyaWQiOiJ5MjIyMjQzNTMiLCJwdWlkIjoiODQ0NDI2NTgxNDc3MzQ3IiwieHVpZCI6IjI1MzU0MjgyNjYwOTIyMTMiLCJ4dXNGbGlnaHRzIjoiW1wiNDYxMTY4NjAxODU0NzMzMjAwMFwiLFwiYjRlYzI1NGUtY2VjMC00OWRkLTgzMTMtZWY1ZDA1ZmJhZWY1XCIsXCJjMTYzNzMyYS1kZWI2LTQxNDAtYjljNS03Y2ZkM2QwYWI4NzFcIixcIjFjM2Y3OGFiLTlhYmEtNGQ1Yy04MzcwLTg2YTVlNzg5YTk3Y1wiXSIsInBhcnRuZXJpZCI6Ik1JQ1JPU09GVCIsIm9mZmVyaW5naWQiOiJYSE9NRSIsImluc3RhbmNlaWQiOiJiZDBmNWVlNy1hNDZhLTQwODYtODM1NC1jNWY5MzI0YTE1ODIiLCJ0eXBlIjoiVXNlciIsInZlcnNpb24iOiIyLjAiLCJmbGlnaHRzIjoie30iLCJuYmYiOjE3MjUwOTM1NzMsImV4cCI6MTcyNTEwNzk3MywiaWF0IjoxNzI1MDkzNTczLCJpc3MiOiJodHRwczovL3hob21lLWF1dGgtcHJvZC54Ym94bGl2ZS5jb20iLCJhdWQiOiJodHRwczovL3hob21lLXByb2QueGJveGxpdmUuY29tIn0.Reh8NzpgeFgQ1oTiyhZrXWgzLBaX_A4c3UvAAHr7L4hO9nlsal8WNPkkxrxttlk3Dz082JAItyFm15Va8TfD4elwSsx9IIpBMHsReaaNQHo3tzxtT3IBM26uhQZNsaY6Xt5mr2B-gNLwQh_3Ts58HQJBROm2GdFsRqo20sYCzZc'
const client = new xCloudApiClient(token,'127.0.0.1:8888');


client.startStream().then((stream) => {
    console.log(stream.getState);
    console.log(stream.getSessionId);
    stream.waitForState('Provisioned');
    
}).catch((error) => {
    console.error('Failed to start streaming session:', error);
});